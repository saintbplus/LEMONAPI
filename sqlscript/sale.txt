CREATE TABLE sale_orders(
	sale_id SERIAL PRIMARY KEY,
	add_time TIMESTAMP NOT NULL,
	checked_time TIMESTAMP,
	order_type ORDER_TYPE NOT NULL,
	rest_id INTEGER REFERENCES resturants(rest_id) ON DELETE CASCADE NOT NULL
);

CREATE TABLE eat_in_order(
	in_id SERIAL PRIMARY KEY,
	guest_no INTEGER,
	table_no INTEGER,
	sale_id INTEGER REFERENCES sale_orders(sale_id) ON DELETE CASCADE NOT NULL
);

CREATE TABLE delivery_order(
	deli_id SERIAL PRIMARY KEY,
	deli_service INTEGER REFERENCES deli_service(d_service_id) ON DELETE NO ACTION NOT NULL,
	ref_code VARCHAR(100) NOT NULL,
	sale_id INTEGER REFERENCES sale_orders(sale_id) ON DELETE CASCADE NOT NULL
);

CREATE TABLE order_foods(
	order_food_id SERIAL PRIMARY KEY,
	order_id INTEGER REFERENCES sale_orders(sale_id) ON DELETE CASCADE NOT NULL,
	food_id INTEGER REFERENCES food_items(food_id) ON DELETE NO ACTION NOT NULL,
	remark VARCHAR(200)
);

*********************************************************************

DROP TABLE order_foods;
DROP TABLE delivery_order;
DROP TABLE eat_in_order;
DROP TABLE sale_orders;