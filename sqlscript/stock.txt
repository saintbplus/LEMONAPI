CREATE TABLE food_items(
	food_id SERIAL PRIMARY KEY,
	food_name VARCHAR(100) NOT NULL,
	price REAL NOT NULL,
	detail VARCHAR(400),
	rest_id INTEGER REFERENCES resturants(rest_id) ON DELETE RESTRICT NOT NULL,
	UNIQUE (food_name, rest_id)
);

CREATE TABLE ingredients(
	ingredient_id SERIAL PRIMARY KEY,
	ingredient_name VARCHAR(100) NOT NULL,
	detail VARCHAR(400),
	rest_id INTEGER REFERENCES resturants(rest_id) ON DELETE RESTRICT NOT NULL,
	UNIQUE (ingredient_name, rest_id)
);

CREATE TABLE food_receipts(
	receipt_id SERIAL PRIMARY KEY,
	food_id INTEGER REFERENCES food_items(food_id) ON DELETE CASCADE NOT NULL,
	ingredient_id INTEGER REFERENCES ingredients(ingredient_id) ON DELETE CASCADE NOT NULL,
	amount REAL NOT NULL,
	UNIQUE (food_id, ingredient_id)
);


DROP TABLE food_receipts;
DROP TABLE ingredients;
DROP TABLE food_items;